!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";function o(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e){var n=e.placeAddress||[],t=e.name,o=e.type,a=n.map(function(e){return e.types[0]===o}).indexOf(!0);return-1!==a?n[a][t]:""}function s(e){return function(e){var n=e.parent();if(e.hasClass("ui")&&e.hasClass("dropdown")||n.hasClass("ui")&&n.hasClass("dropdown"))return!0;return!1}(e)?"SEMANTIC_DROPDOWN":e.prop("nodeName")}function i(e,n,t){var o=-1!==(n=n.toLowerCase().replace(/\s+/g,"")).indexOf("short");if(n=n.replace("short",""),r[n]){var a=r[n](t,o);p.set[s(e)](e,a)}else c("".concat(n," is not a valid address type"))}function c(e){console.error(e)}var l,e,u,d,n,t,f,r,p,m,h,g;l=window.jQuery||window.$,d="gmap.".concat(u="geocomplete"),n=".".concat(d),t=["bounds","componentRestrictions","placeIdOnly","strictBounds","types"],f={FOCUS:"focus".concat(n),PLACE_CHANGED:"place_changed"},r={city:function(e,n){return a({placeAddress:e.address_components,name:n?"short_name":"long_name",type:"locality"})},country:function(e,n){return a({placeAddress:e.address_components,name:n?"short_name":"long_name",type:"country"})},county:function(e,n){return a({placeAddress:e.address_components,name:n?"short_name":"long_name",type:"administrative_area_level_2"})},formattedaddress:function(e){return e.formatted_address},neighborhood:function(e,n){return a({placeAddress:e.address_components,name:n?"short_name":"long_name",type:"neighborhood"})},state:function(e,n){return a({placeAddress:e.address_components,name:n?"short_name":"long_name",type:"administrative_area_level_1"})},street:function(e,n){return a({placeAddress:e.address_components,name:n?"short_name":"long_name",type:"route"})},streetaddress:function(e,n){var t=a({placeAddress:e.address_components,name:n?"short_name":"long_name",type:"street_number"}),o=a({placeAddress:e.address_components,name:n?"short_name":"long_name",type:"route"});return"".concat(t," ").concat(o)},streetnumber:function(e,n){return a({placeAddress:e.address_components,name:n?"short_name":"long_name",type:"street_number"})},zipcode:function(e,n){return a({placeAddress:e.address_components,name:n?"short_name":"long_name",type:"postal_code"})},zipcodesuffix:function(e,n){return a({placeAddress:e.address_components,name:n?"short_name":"long_name",type:"postal_code_suffix"})}},p={clear:{INPUT:function(e){e.val("")},SELECT:function(e){e.val("")},SEMANTIC_DROPDOWN:function(e){e.dropdown("clear")}},set:{INPUT:function(e,n){e.val(n)},SELECT:function(e,n){var t=l("option:contains(".concat(n,")"),e)[0].index;e.prop("selectedIndex",t)},SEMANTIC_DROPDOWN:function(e,n){e.dropdown("set selected",n)}}},m=-1,(e=document.createElement("style")).type="text/css",l("head")[0].appendChild(e),h=e,g=function(){function r(e,a){var s=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),"string"==typeof a&&(a={}),a=l.extend(!0,{},l.fn[u].settings,a);var n={};Object.keys(a).forEach(function(e){-1!==t.indexOf(e)&&(n[e]=a[e])}),this.element=e,this.fields=a.fields,this.index=m+=1,this.map=a.map,this.obj=new google.maps.places.Autocomplete(e,n),this.pacContainer=null,this.obj.addListener(f.PLACE_CHANGED,function(){var e=l(s.element),n=s.getplace();if(function(e){return Object.keys(e).length<=1}(n))a.onNoResult.call(e,n.name);else if(a.onChange.call(e,n.name,n),null!=s.fields&&s.fillfields(),null!=s.map){var t=n.geometry.location,o=n.geometry.viewport;s.centermap(t||o)}}),a.geolocate&&function(t){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var n=new google.maps.Circle({center:{lat:e.coords.latitude,lng:e.coords.longitude},radius:e.coords.accuracy});t.setBounds(n.getBounds())})}(this.obj),a.appendToParent&&(l(e).on(f.FOCUS,function(){var e=l(this),n=e.data(d);null!=n.pacContainer&&(function(e,n){var t="".concat(function(e){var n=e.offset().left,t=e.parent().offset().left;return n-t}(e),"px !important"),o="".concat(function(e){var n=e.offset().top,t=e.outerHeight(),o=e.parent().offset().top;return n-o+t}(e),"px !important");n.id="pac-container_".concat(e[0].id),h.innerHTML+="#".concat(n.id,"{top:").concat(o,"; left:").concat(t,";}"),e.parent().css({position:"relative"}).append(n)}(e,n.pacContainer),e.off(f.FOCUS))}),setTimeout(function(){s.pacContainer=l(".pac-container")[s.index]},1e3))}return function(e,n,t){n&&o(e.prototype,n),t&&o(e,t)}(r,[{key:"centermap",value:function(e){if(null==e){var n=this.getplace(),t=n.geometry.location;e=n.geometry.viewport||t}return e instanceof google.maps.LatLngBounds?this.map.fitBounds(e):e instanceof google.maps.LatLng&&this.map.setCenter(e),l(this.element)}},{key:"clearfields",value:function(){var e=this.fields;if("string"===l.type(e))l("[data-".concat(u,"]"),l(this.fields)).each(function(){var e=l(this);p.clear[s(e)](e)});else if("object"===l.type(e))for(var n in e){var t=l(n);0!==t.length?p.clear[s(t)](t):c("".concat(n," was not found in DOM"))}return l(this.element)}},{key:"fillfields",value:function(){this.clearfields();var e=this.fields,t=this.obj.getPlace();if("string"===l.type(e))l("[data-".concat(u,"]"),l(this.fields)).each(function(){var e=l(this),n=e.data(u);i(e,n,t)});else if("object"===l.type(e))for(var n in e){var o=l(n),a=e[n];0!==o.length?i(o,a,t):c("".concat(n," was not found in DOM"))}return l(this.element)}},{key:"getbounds",value:function(){return this.obj.getBounds()}},{key:"getplace",value:function(){return this.obj.getPlace()}},{key:"setbounds",value:function(e){return this.obj.setBounds(e),l(this.element)}},{key:"setcomponentrestrictions",value:function(e){return this.obj.setComponentRestrictions(e),l(this.element)}},{key:"setoptions",value:function(e){return this.obj.setOptions(e),l(this.element)}},{key:"settypes",value:function(e){return this.obj.setTypes(e),l(this.element)}}],[{key:"_jQueryInterface",value:function(e,n){var t=l(this),o=t.data(d);if(o||(o=new r(this[0],e),t.data(d,o)),"string"==typeof e){var a=e.toLowerCase().replace(/\s+/g,"");if(o[a])return o[a](n);c('"'.concat(e,'" is not a valid method'))}return this}}]),r}(),l.fn[u]=g._jQueryInterface,l.fn[u].Constructor=g,l.fn[u].settings={appendToParent:!0,fields:null,geolocate:!1,map:null,types:["geocode"],onChange:function(){},onNoResult:function(){}}});
